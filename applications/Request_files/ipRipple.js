
(function(){'use strict';inproces.directive('ipRipple',function ipRipple($timeout){return{restrict:'A',link:function(scope,element,attrs){var x,y,size,offsets;element.append('<span class="ripple"></span>');element.on('click touchstart',function(e){var eventType=e.type;var rippleContainer=$(this).children('.ripple');var ripple=rippleContainer.children('.angular-ripple');ripple=ripple.length?ripple[0]:null;rippleContainer=rippleContainer[0];if(ripple===null){ripple=document.createElement('span');$(ripple).addClass('angular-ripple');rippleContainer.insertBefore(ripple,rippleContainer.firstChild);if(!ripple.offsetHeight&&!ripple.offsetWidth){size=Math.max(rippleContainer.offsetWidth,rippleContainer.offsetHeight);ripple.style.width=size+'px';ripple.style.height=size+'px';}}
$(ripple).removeClass('animate');if(eventType==='click'){x=e.pageX;y=e.pageY;}else if(eventType==='touchstart'){x=e.changedTouches[0].pageX;y=e.changedTouches[0].pageY;}
offsets=$(ripple).parent().offset();ripple.style.left=(x-offsets.left-size/2)+'px';ripple.style.top=(y-offsets.top-size/2)+'px';$(ripple).addClass('animate');$timeout(function(){$(ripple).removeClass('animate');},500);});}};});})();